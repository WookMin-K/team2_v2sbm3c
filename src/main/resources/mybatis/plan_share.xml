<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dev.mvc.plan_share.PlanShareDAOInter">

  <!-- 등록 -->
  <insert id="create" parameterType="dev.mvc.plan_share.PlanShareVO">
    INSERT INTO plan_share (
      share_no,
      share_title,
      share_story,
      visibility,
      created_day,
      plan_no,
      user_no
    ) VALUES (
      plan_share_seq.nextval,
      #{share_title},
      #{share_story},
      #{visibility},
      sysdate,
      #{plan_no},
      #{user_no}
    )
  </insert>

  <!-- 전체 목록 -->
  <select id="list" resultType="dev.mvc.plan_share.PlanShareVO">
    SELECT * FROM plan_share ORDER BY share_no DESC
  </select>

  <!-- 단건 조회 -->
  <select id="read" parameterType="Long" resultType="dev.mvc.plan_share.PlanShareVO">
    SELECT * FROM plan_share WHERE share_no = #{share_no}
  </select>

  <!-- 수정 -->
  <update id="update" parameterType="dev.mvc.plan_share.PlanShareVO">
    UPDATE plan_share
    SET share_title = #{share_title},
        share_story = #{share_story},
        visibility = #{visibility}
    WHERE share_no = #{share_no}
  </update>

  <!-- 삭제 -->
  <delete id="delete" parameterType="Long">
    DELETE FROM plan_share WHERE share_no = #{share_no}
  </delete>

</mapper>